(()=>{"use strict";class t{constructor(){if(new.target===t)throw new Error("Can't instantiate Abstract");t.init()}get container(){return document.querySelector(".container")}get fragment(){return document.createDocumentFragment()}createElement(t,e={}){const{textContent:n,...s}=e,o=document.createElement(t);return Object.keys(s).forEach((t=>o.setAttribute(t,s[t]))),n&&(o.textContent=n),o}static init(){if(!document.querySelector(".container")){const t=document.createElement("div");t.classList.add("container"),document.body.appendChild(t)}}}class e extends t{constructor(){super(),this.letters=["A","B","C","D","E","F","G","H"]}createTableCol(t,e,n){const s=this.createElement("td");s.style.backgroundColor=(e+n)%2==0?"white":"brown",this.createLetter(s,e,n),t.appendChild(s)}createLetter(t,e,n){console.log(n,"col"),console.log(e,"row"),0===n?(console.log(`рисуем цифру ${this.letters[e]}`),t.textContent=this.letters.length-e):n===this.letters.length-1&&(t.textContent=e+1)}createTableRow(t,e){const n=this.createElement("tr");for(let t=0;t<this.letters.length;t++)this.createTableCol(n,e,t);t.appendChild(n)}show(){const t=this.createElement("table",{class:"table"});for(let e=0;e<this.letters.length;e++)this.createTableRow(t,e);this.container.appendChild(t)}}class n extends t{constructor(){super(),this.maxBlocks=6e3,this.colorItems=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],this.animTime=1e3,this.baseColor="black"}get _randomColor(){let t="";for(let e=0;e<6;e++)t=`${t}${this.colorItems[Math.round(Math.random()*this.colorItems.length)]}`;return`#${t}`}get _createdBlock(){return this.createElement("div",{class:"block"})}_setChangeColorHandler(t){t.target.style.backgroundColor=this._randomColor}_removeChangeColorHandler(t){setTimeout((()=>{t.target.style.backgroundColor=this.baseColor}),this.animTime)}show(){const t=this.fragment;for(let e=0;e<this.maxBlocks;e++){const e=this._createdBlock;e.addEventListener("mouseenter",this._setChangeColorHandler.bind(this)),e.addEventListener("mouseout",this._removeChangeColorHandler.bind(this)),t.appendChild(e)}this.container.appendChild(t)}}const s={clean:{text:"Очистить"},chess:{text:"Шахматы"},draw:{text:"Рисовалка"}};(new class extends t{constructor(t){super(),this.chess=new e,this.draw=new n,console.log(t),console.dir(this)}get buttons(){const t=this.fragment;return Object.keys(s).map((e=>this._createButton(e,t))),t}_createButton(t,e){const n=this.createElement("button",{type:"button",class:t,value:t,textContent:s[t].text});this._addHandler(n),e.appendChild(n)}_addHandler(t){t.addEventListener("click",(t=>{this.clean();const e=t.target.getAttribute("value");this[e].show&&this[e].show(),"clean"!==e&&(t.target.classList.add("active"),this.activeBtn=t.target)}))}clean(){this.container.innerHTML="",this.activeBtn?.classList.remove("active")}init(){document.body.insertBefore(this.buttons,this.container)}}).init()})();